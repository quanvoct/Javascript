<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quản lý dữ liệu</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="scriptOligo.js"></script>
</head>

<body>
    <div class="card m-auto mb-3" style="width: 50rem">
        <div class="card-header">
            <h1 class="text-center">Lập danh sách sản phẩm</h1>
        </div>
        <div class="card-body">
            <form action="">
                <div class="row">
                    <div class="col-10"><input type="text" class="form-control" id="name"
                            placeholder="Nhập tên của bạn">
                    </div>
                    <div class="col-2"><button type="submit" class="btn btn-primary" id="add-value">Submit</button>
                        <button type="button" class="btn btn-primary d-none" id="edit-value">Edit</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="card m-auto" style="width: 50rem">
        <div class="card-body" id="table-view">
            <!-- <div class="row">
                <div class="col-10">
                    <input type="text" class="form-control" id="name" disabled>
                </div>
                <div class="col-2">
                    <button type="submit" class="btn btn-primary d-inline-block" id="edit-value">&times</button>
                    <button type="submit" class="btn btn-primary d-inline-block" id="remove-value">&#9998;</button>
                </div>
            </div> -->
        </div>
    </div>
    </div>
    <script>
        var inputName = document.getElementById('name');
        var addValue = document.getElementById('add-value');
        var editValue = document.getElementById('edit-value');
        var tableView = document.getElementById('table-view');
        var i = 1;

        addValue.addEventListener('click', function (e) {
            e.preventDefault();
            let dataProduct = [];
            dataProduct.push(i);
            dataProduct.push(inputName.value);
            console.log(dataProduct);
            addRow(dataProduct);
            i++;
            inputName.value = '';
        })

        function addRow(array) {
            let str = `<div class="row mb-2" id="row-${array[0]}">
             <div class="col-1">
             <input type="text" class="form-control" id="stt-${array[0]}" value="${array[0]}" disabled>
            </div>
             <div class="col-9">
             <input type="text" class="form-control" id="name-${array[0]}" value="${array[1]}" disabled>
             </div>
             <div class="col-2">
            <button type="submit" class="btn btn-primary d-inline-block" onclick="editRow(${array[0]})">&#9998;</button>
            <button type="submit" class="btn btn-primary d-inline-block" onclick="removeRow(${array[0]})">&times</button>
            </div>
            </div>`;
            tableView.insertAdjacentHTML('beforeend', str);
        }
        function removeRow(id) {
            let row = document.getElementById('row-' + id);
            row.remove();
        }
        function editRow(id) {
            text = document.getElementById('name-' + id);
            inputName.value = text.value;
            addValue.classList.add('d-none');
            editValue.classList.remove('d-none');

            editValue.addEventListener('click', function () {
                text.value = inputName.value;
            })
        }
    </script>
</body>

</html>